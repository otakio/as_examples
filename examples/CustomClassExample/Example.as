package  {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;		public class Example extends MovieClip{				var taro:Taro;	//たろう		var hanako:Hanako;	//はなこ		var akio:Akio;	//あきお		var koichi:Koichi;	//こういち		var miyuki:Miyuki;	//みゆき				var people:Array;	//全員を格納する配列				var bt1:Button1;	//生年並び替えボタン		var bt2:Button2;	//身長並び替えボタン		var bt3:Button3;	//出身地配置ボタン		public function Example() {			// constructor code			this.addEventListener(Event.ENTER_FRAME, loop);						//全員を格納する配列を初期化			people = new Array();						//ひとりひとり初期化し、ステージ上に配置し、配列peopleに追加する。			//たろう			taro = new Taro();		//たろうを初期化			taro.x = 100;			//x座標			taro.y = 300;			//y座標			taro.ix = taro.x;		//行き先のx座標（アニメーションさせる際の目的地）			taro.iy = taro.y;		//行き先のy座標（アニメーションさせる際の目的地）			taro.jimotoPt.x = 520;	//地元のx座標			taro.jimotoPt.y = 70;	//地元のy座標			taro.birthYear = 1988;	//たろうの生年（MyBaseClassで追加したプロパティ）			taro.name = "taro";		//たろうの名前			taro.shincho = 166;		//たろうの身長			this.addChild(taro);	//ステージ上にたろうを配置			people.push(taro);		//配列にたろうを追加						//はなこ			hanako = new Hanako();	//初期化			hanako.x = 200;			//x座標			hanako.y = taro.y;		//y座標			hanako.ix = hanako.x;	//行き先のx座標			hanako.iy = hanako.y;	//行き先のy座標			hanako.jimotoPt.x = 50;	//地元のx座標			hanako.jimotoPt.y = 350;	//地元のy座標			hanako.birthYear = 1990;	//生年（MyBaseClassで追加したプロパティ）			hanako.name = "hanako";	//名前			hanako.shincho = 158;	//身長			this.addChild(hanako);	//配置			people.push(hanako);	//配列に追加			//あきお			akio = new Akio();			akio.x = 300;			akio.y = taro.y;			akio.ix = akio.x;			akio.iy = akio.y;			akio.jimotoPt.x = 250;			akio.jimotoPt.y = 320;			akio.birthYear = 1981;			akio.name = "akio";			akio.shincho = 184;			this.addChild(akio);			people.push(akio);						//こういち			koichi = new Koichi();			koichi.x = 400;			koichi.y = taro.y;			koichi.ix = koichi.x;			koichi.iy = koichi.y;			koichi.jimotoPt.x = 420;			koichi.jimotoPt.y = 370;			koichi.birthYear = 1976;			koichi.name = "koichi";			koichi.shincho = 170;			this.addChild(koichi);			people.push(koichi);						//みゆき			miyuki = new Miyuki();			miyuki.x = 500;			miyuki.y = taro.y;			miyuki.ix = miyuki.x;			miyuki.iy = miyuki.y;			miyuki.jimotoPt.x = 500;			miyuki.jimotoPt.y = 320;			miyuki.birthYear = 1980;			miyuki.name = "miyuki";			miyuki.shincho = 165;			this.addChild(miyuki);			people.push(miyuki);						bt1 = new Button1();			bt1.x = 20;			bt1.y = 20;			this.addChild(bt1);			bt1.mouseChildren = false;			bt1.buttonMode = true;			bt1.addEventListener(MouseEvent.CLICK, onMClick);						bt2 = new Button2();			bt2.x = 20;			bt2.y = 70;			this.addChild(bt2);			bt2.mouseChildren = false;			bt2.buttonMode = true;			bt2.addEventListener(MouseEvent.CLICK, onMClick);						bt3 = new Button3();			bt3.x = 20;			bt3.y = 120;			this.addChild(bt3);			bt3.mouseChildren = false;			bt3.buttonMode = true;			bt3.addEventListener(MouseEvent.CLICK, onMClick);		}				//メインループ		function loop(e:Event):void{			//peopleのそれぞれが持ってる(ix, iy)に徐々に移動させるアニメーション			for(var i:uint = 0; i < people.length; i++){				people[i].x += (people[i].ix - people[i].x) / 10.0;				people[i].y += (people[i].iy - people[i].y) / 10.0;			}		}				function onMClick(e:MouseEvent):void{			if(e.target == bt1){				//people配列を"birthYear"プロパティで並べ替え				people.sortOn("birthYear");				//配列の番号順に左から並べる				for(var i:uint = 0; i < people.length; i++){					var ix = 100 + i * 100;					var iy = 300;					people[i].ix = ix;					people[i].iy = iy;				}				trace("birthYear");			}else if(e.target == bt2){				//people配列を"shincho"プロパティで並べ替え				people.sortOn("shincho");				//配列の番号順に左から並べる				for(i = 0; i < people.length; i++){					ix = 100 + i * 100;					iy = 300;					people[i].ix = ix;					people[i].iy = iy;				}				trace("shincho");			}else if(e.target == bt3){				//並べ替えはせずに行き先を(jimotoPt.x, jimotoPt.y)に設定するだけ				for(i = 0; i < people.length; i++){					people[i].ix = people[i].jimotoPt.x;					people[i].iy = people[i].jimotoPt.y;				}								trace("jimoto");			}		}			}	}